# å¦‚ä½•ä¿å­˜å›¾ç‰‡é…ç½®åˆ°æ•°æ®åº“

## ğŸ“‹ é—®é¢˜è¯´æ˜

ä½ å·²ç»å°†å›¾ç‰‡ä¸Šä¼ åˆ°äº‘å­˜å‚¨äº†ï¼Œä½†æ˜¯å°ç¨‹åºè¿˜åœ¨å°è¯•åŠ è½½æœ¬åœ°å›¾ç‰‡è·¯å¾„ï¼Œå¯¼è‡´ 500 é”™è¯¯ã€‚

**åŸå› **ï¼šæ•°æ®åº“ä¸­çš„ `image_config` é›†åˆè¿˜æ²¡æœ‰é…ç½®æ•°æ®ï¼Œæ‰€ä»¥ä»£ç å›é€€åˆ°æœ¬åœ°è·¯å¾„ï¼Œä½†æœ¬åœ°è·¯å¾„ä¹ŸåŠ è½½å¤±è´¥ã€‚

## âœ… è§£å†³æ­¥éª¤

### æ­¥éª¤ 1: è·å–äº‘å­˜å‚¨æ–‡ä»¶ ID

1. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…· â†’ **äº‘å¼€å‘** â†’ **å­˜å‚¨** â†’ **æ–‡ä»¶ç®¡ç†**
2. è¿›å…¥ `images/banner/` æ–‡ä»¶å¤¹
3. ç‚¹å‡»æ¯ä¸ªå›¾ç‰‡æ–‡ä»¶ï¼ŒæŸ¥çœ‹è¯¦æƒ…
4. å¤åˆ¶**æ–‡ä»¶ ID**ï¼ˆæ ¼å¼ï¼š`cloud://xxx.xxx/images/banner/leaders1.jpeg`ï¼‰

### æ­¥éª¤ 2: ä¿å­˜é…ç½®åˆ°æ•°æ®åº“

#### æ–¹æ³• A: ç›´æ¥å¤åˆ¶ç²˜è´´ä»£ç ï¼ˆæ¨èï¼‰

å°ç¨‹åºæ§åˆ¶å°ä¸æ”¯æŒ `require`ï¼Œéœ€è¦ç›´æ¥å¤åˆ¶ä»£ç ã€‚**è¯·æŸ¥çœ‹ `å¿«é€Ÿä¿å­˜å›¾ç‰‡é…ç½®.md` æ–‡ä»¶**ï¼Œé‡Œé¢æœ‰å®Œæ•´çš„å¯ç›´æ¥å¤åˆ¶çš„ä»£ç ã€‚

#### æ–¹æ³• B: æ‰‹åŠ¨è°ƒç”¨äº‘å‡½æ•°

```javascript
// é€ä¸ªä¿å­˜é…ç½®
const fileIDs = [
  'cloud://xxx.xxx/images/banner/leaders1.jpeg',
  'cloud://xxx.xxx/images/banner/leaders2.jpeg',
  // ... å…¶ä»–æ–‡ä»¶
]

for (let i = 0; i < fileIDs.length; i++) {
  wx.cloud.callFunction({
    name: 'uploadImage',
    data: {
      cloudPath: fileIDs[i],
      category: 'banner',
      page: 'leaders',
      order: i + 1
    },
    success: res => {
      console.log(`ä¿å­˜æˆåŠŸ ${i + 1}:`, res.result)
    }
  })
}
```

#### æ–¹æ³• C: ä½¿ç”¨äº‘å¼€å‘ CMS

1. æ‰“å¼€äº‘å¼€å‘æ§åˆ¶å° â†’ **CMS å†…å®¹ç®¡ç†**
2. é€‰æ‹© `image_config` é›†åˆ
3. ç‚¹å‡»"æ–°å»º"ï¼Œæ‰‹åŠ¨æ·»åŠ è®°å½•ï¼š
   - `category`: `banner`
   - `cloudPath`: `cloud://xxx.xxx/images/banner/leaders1.jpeg`
   - `url`: `cloud://xxx.xxx/images/banner/leaders1.jpeg`ï¼ˆä¸ cloudPath ç›¸åŒï¼‰
   - `page`: `leaders`
   - `order`: `1`
   - é‡å¤æ·»åŠ å…¶ä»–å›¾ç‰‡

### æ­¥éª¤ 3: éªŒè¯é…ç½®

ä¿å­˜å®Œæˆåï¼ŒéªŒè¯é…ç½®ï¼š

```javascript
// æµ‹è¯•è·å–å›¾ç‰‡é…ç½®
wx.cloud.callFunction({
  name: 'getImageConfig',
  data: { type: 'banners' },
  success: res => {
    console.log('å›¾ç‰‡é…ç½®:', res.result.data)
    // åº”è¯¥èƒ½çœ‹åˆ° leaders é¡µé¢çš„ banner é…ç½®
  }
})
```

### æ­¥éª¤ 4: æµ‹è¯•å°ç¨‹åº

1. é‡æ–°ç¼–è¯‘å°ç¨‹åº
2. æ‰“å¼€"å¸¦é¢†äºº"é¡µé¢
3. æ£€æŸ¥ Banner æ˜¯å¦æ­£å¸¸æ˜¾ç¤º
4. æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

## ğŸ“ å®Œæ•´ç¤ºä¾‹

### ä¿å­˜æ‰€æœ‰ Banner å›¾ç‰‡

```javascript
const saveTool = require('./utils/save-image-config.js')

// æ›¿æ¢ä¸ºä½ çš„å®é™…æ–‡ä»¶ ID
const bannerFileIDs = [
  'cloud://cloud1-3g71minke37b68b6.636c-cloud1-3g71minke37b68b6-1321234567/images/banner/leaders1.jpeg',
  'cloud://cloud1-3g71minke37b68b6.636c-cloud1-3g71minke37b68b6-1321234567/images/banner/leaders2.jpeg',
  'cloud://cloud1-3g71minke37b68b6.636c-cloud1-3g71minke37b68b6-1321234567/images/banner/leaders3.jpeg',
  'cloud://cloud1-3g71minke37b68b6.636c-cloud1-3g71minke37b68b6-1321234567/images/banner/leaders4.png',
  'cloud://cloud1-3g71minke37b68b6.636c-cloud1-3g71minke37b68b6-1321234567/images/banner/leaders5.jpeg',
  'cloud://cloud1-3g71minke37b68b6.636c-cloud1-3g71minke37b68b6-1321234567/images/banner/leaders6.jpeg',
]

wx.saveImageConfig.saveBannerImages(bannerFileIDs, 'leaders')
```

### ä¿å­˜ Icon å›¾ç‰‡ï¼ˆå¦‚æœéœ€è¦ï¼‰

```javascript
const iconConfigs = [
  {
    cloudPath: 'cloud://xxx.xxx/images/icon/action-icon.png',
    name: 'action-icon'
  },
  {
    cloudPath: 'cloud://xxx.xxx/images/icon/generator-icon.png',
    name: 'generator-icon'
  },
  // ... å…¶ä»–å›¾æ ‡
]

wx.saveImageConfig.saveIconImages(iconConfigs)
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶ ID æ ¼å¼**ï¼š
   - å¿…é¡»ä»¥ `cloud://` å¼€å¤´
   - åŒ…å«å®Œæ•´çš„äº‘å­˜å‚¨è·¯å¾„
   - å¯ä»¥ä»äº‘å¼€å‘æ§åˆ¶å°çš„æ–‡ä»¶è¯¦æƒ…ä¸­å¤åˆ¶

2. **ç¡®ä¿äº‘å‡½æ•°å·²éƒ¨ç½²**ï¼š
   - `uploadImage` äº‘å‡½æ•°å¿…é¡»å·²éƒ¨ç½²
   - `getImageConfig` äº‘å‡½æ•°å¿…é¡»å·²éƒ¨ç½²

3. **æ•°æ®åº“é›†åˆ**ï¼š
   - ç¡®ä¿ `image_config` é›†åˆå·²åˆ›å»º
   - æ£€æŸ¥æ•°æ®åº“æƒé™è®¾ç½®

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šä¿å­˜å¤±è´¥

1. æ£€æŸ¥äº‘å‡½æ•° `uploadImage` æ˜¯å¦å·²éƒ¨ç½²
2. æ£€æŸ¥æ–‡ä»¶ ID æ ¼å¼æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥æ•°æ®åº“æƒé™è®¾ç½®
4. æŸ¥çœ‹äº‘å‡½æ•°æ—¥å¿—

### é—®é¢˜ï¼šå›¾ç‰‡ä»ç„¶ä¸æ˜¾ç¤º

1. æ£€æŸ¥æ•°æ®åº“ä¸­çš„é…ç½®æ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥ `getImageConfig` äº‘å‡½æ•°æ˜¯å¦æ­£å¸¸
3. æ£€æŸ¥å›¾ç‰‡ URL æ˜¯å¦å¯ä»¥è®¿é—®
4. æŸ¥çœ‹å°ç¨‹åºæ§åˆ¶å°é”™è¯¯ä¿¡æ¯

## ğŸ’¡ å¿«é€Ÿæ£€æŸ¥æ¸…å•

- [ ] å›¾ç‰‡å·²ä¸Šä¼ åˆ°äº‘å­˜å‚¨
- [ ] è·å–äº†æ‰€æœ‰å›¾ç‰‡çš„æ–‡ä»¶ ID
- [ ] å·²ä¿å­˜é…ç½®åˆ° `image_config` é›†åˆ
- [ ] äº‘å‡½æ•° `uploadImage` å·²éƒ¨ç½²
- [ ] äº‘å‡½æ•° `getImageConfig` å·²éƒ¨ç½²
- [ ] æµ‹è¯•è·å–é…ç½®æˆåŠŸ
- [ ] å°ç¨‹åºé¡µé¢å›¾ç‰‡æ­£å¸¸æ˜¾ç¤º

