# 微信小程序审核发布流程

## 📋 流程概览

```
开发版本 → 上传代码 → 体验版 → 提交审核 → 审核通过 → 正式版发布
```

---

## 🚀 详细步骤

### 第一步：上传代码

1. **在微信开发者工具中上传代码**：
   - 打开微信开发者工具
   - 点击工具栏的 **"上传"** 按钮（或使用快捷键 `Ctrl+Shift+U` / `Cmd+Shift+U`）
   - 填写版本号和项目备注
     - **版本号**：例如 `1.0.0`、`1.0.1` 等（遵循语义化版本）
     - **项目备注**：简要说明本次更新的内容，例如：
       - "首次发布"
       - "修复活动详情页显示问题"
       - "新增金数据表单嵌入功能"
   - 点击 **"上传"**

2. **上传成功提示**：
   - 上传成功后，会显示"上传成功"提示
   - 代码已上传到微信服务器

---

### 第二步：生成体验版

1. **登录微信公众平台**：
   - 访问 [微信公众平台](https://mp.weixin.qq.com/)
   - 使用小程序管理员账号登录

2. **进入版本管理**：
   - 点击左侧菜单 **"版本管理"**
   - 在 **"开发版本"** 列表中，找到刚刚上传的版本

3. **选择体验成员**：
   - 点击 **"选为体验版"** 按钮
   - 选择体验成员（可以添加多个体验成员）
   - 点击 **"确定"**

4. **生成体验版二维码**：
   - 体验版生成后，可以：
     - 扫描二维码在手机上体验
     - 分享二维码给团队成员测试
     - 体验版链接：可以在版本管理页面获取

---

### 第三步：测试体验版

**重要**：在提交审核前，务必充分测试体验版！

1. **功能测试**：
   - 在手机上扫描体验版二维码
   - 测试所有主要功能：
     - ✅ 首页展示
     - ✅ 活动列表和详情
     - ✅ 活动报名（包括金数据表单）
     - ✅ 活动家和带领人页面
     - ✅ 小事生成器
     - ✅ 加入申请功能
     - ✅ 页面跳转和导航

2. **兼容性测试**：
   - 在不同型号手机上测试
   - 测试不同微信版本
   - 检查页面显示是否正常

3. **性能测试**：
   - 检查页面加载速度
   - 检查图片加载是否正常
   - 检查云函数调用是否正常

4. **修复问题**：
   - 如果发现问题，修复后重新上传代码
   - 重复第一步和第二步

---

### 第四步：提交审核

1. **进入版本管理**：
   - 在微信公众平台，进入 **"版本管理"**
   - 找到要提交审核的版本（开发版本或体验版）

2. **点击"提交审核"**：
   - 点击 **"提交审核"** 按钮
   - 进入审核信息填写页面

3. **填写审核信息**：

   **a. 版本描述**（必填）：
   - 简要说明小程序的功能和用途
   - 例如：
     ```
     社区小事是一个社区行动平台，鼓励居民在家门口的五十米范围内，
     通过微小的行动改善社区生活。平台提供活动展示、活动家介绍、
     带领人信息、活动报名等功能。
     ```

   **b. 测试账号**（如需要）：
   - 如果小程序需要登录，提供测试账号
   - 格式：`账号：密码` 或 `手机号：验证码`
   - 例如：`13800138000:123456`

   **c. 测试路径**（如需要）：
   - 提供测试人员需要访问的页面路径
   - 例如：
     - `pages/home/index` - 首页
     - `pages/activities/index` - 活动列表
     - `pages/activity-detail/index?id=xxx` - 活动详情

   **d. 补充说明**（可选）：
   - 补充其他需要说明的信息
   - 例如：特殊功能说明、注意事项等

4. **选择类目**（如需要）：
   - 根据小程序的功能选择相应的类目
   - 例如：`生活服务` → `社区服务`

5. **提交审核**：
   - 检查所有信息无误后
   - 点击 **"提交审核"** 按钮
   - 确认提交

---

### 第五步：等待审核

1. **审核时间**：
   - 通常 **1-7 个工作日**
   - 首次审核可能需要更长时间
   - 可以在版本管理页面查看审核状态

2. **审核状态**：
   - **审核中**：正在审核，请耐心等待
   - **审核通过**：可以发布正式版
   - **审核不通过**：查看拒绝原因，修改后重新提交

3. **审核结果通知**：
   - 微信会通过站内信通知审核结果
   - 也可以在版本管理页面查看

---

### 第六步：发布正式版

1. **审核通过后**：
   - 在版本管理页面，找到审核通过的版本
   - 点击 **"发布"** 按钮

2. **确认发布**：
   - 确认版本信息无误
   - 点击 **"确认发布"**

3. **发布成功**：
   - 发布成功后，小程序正式上线
   - 所有用户都可以搜索和使用你的小程序

---

## ⚠️ 审核注意事项

### 1. 必须配置的内容

- ✅ **小程序基本信息**：
  - 小程序名称
  - 小程序头像
  - 小程序简介
  - 服务类目

- ✅ **业务域名**（如果使用 web-view）：
  - 必须配置业务域名
  - 必须上传验证文件
  - 参考：[金数据表单嵌入配置说明](./金数据表单嵌入配置说明.md)

- ✅ **服务器域名**（如果使用网络请求）：
  - 在"开发管理" → "开发设置" → "服务器域名"中配置
  - 云开发不需要配置（使用云函数）

### 2. 常见审核不通过原因

- ❌ **功能不完整**：
  - 页面无法正常打开
  - 功能无法正常使用
  - 缺少必要的功能说明

- ❌ **内容违规**：
  - 包含违规内容
  - 涉及敏感话题
  - 违反相关法律法规

- ❌ **用户体验差**：
  - 页面加载缓慢
  - 交互不流畅
  - 界面设计不合理

- ❌ **缺少必要信息**：
  - 缺少隐私政策
  - 缺少用户协议
  - 缺少联系方式

### 3. 审核前检查清单

在提交审核前，请检查：

- [ ] 所有页面可以正常打开
- [ ] 所有功能可以正常使用
- [ ] 图片和资源加载正常
- [ ] 云函数调用正常
- [ ] 没有明显的 bug 或错误
- [ ] 页面布局在不同手机上显示正常
- [ ] 已配置业务域名（如果使用 web-view）
- [ ] 已填写完整的小程序信息
- [ ] 已选择正确的服务类目
- [ ] 已提供测试账号（如需要）

---

## 📝 版本号规范

建议使用语义化版本号：

- **主版本号.次版本号.修订号**
- 例如：`1.0.0`、`1.0.1`、`1.1.0`、`2.0.0`

**版本号规则**：
- **主版本号**：重大功能更新或架构变更
- **次版本号**：新增功能或重要改进
- **修订号**：bug 修复或小改进

**示例**：
- `1.0.0` - 首次发布
- `1.0.1` - 修复活动详情页显示问题
- `1.1.0` - 新增金数据表单嵌入功能
- `2.0.0` - 重大改版，重构界面

---

## 🔄 审核被拒后的处理

如果审核不通过：

1. **查看拒绝原因**：
   - 在版本管理页面查看详细的拒绝原因
   - 仔细阅读审核意见

2. **修改问题**：
   - 根据拒绝原因修改代码
   - 修复所有提到的问题

3. **重新上传**：
   - 修改后重新上传代码
   - 更新版本号

4. **重新提交审核**：
   - 填写新的审核信息
   - 在"补充说明"中说明已修复的问题
   - 重新提交审核

---

## 📞 需要帮助？

- **微信小程序官方文档**：
  - [小程序审核规范](https://developers.weixin.qq.com/miniprogram/product/)
  - [小程序运营规范](https://developers.weixin.qq.com/miniprogram/product/operate.html)

- **审核问题反馈**：
  - 在微信公众平台提交反馈
  - 或联系微信小程序客服

---

## ✅ 快速检查清单

提交审核前，请确认：

- [ ] 代码已上传
- [ ] 体验版已测试通过
- [ ] 已填写完整的审核信息
- [ ] 已配置业务域名（如需要）
- [ ] 已选择正确的服务类目
- [ ] 已提供测试账号（如需要）
- [ ] 所有功能可以正常使用
- [ ] 没有明显的 bug

**祝审核顺利！** 🎉


