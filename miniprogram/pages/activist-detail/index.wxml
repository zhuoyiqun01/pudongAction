<view class="activist-detail-page">
  <intro-second-floor />
  <view wx:if="{{loading}}" class="loading-wrapper">
    <view class="loading-spinner"></view>
    <text>正在查阅行动记录...</text>
  </view>

  <view wx:else class="detail-container fade-in">
    <!-- 顶部封面 -->
    <view class="cover-section">
      <view class="cover-image-wrapper" bindtap="previewImage" data-url="{{activist.image}}">
        <image src="{{activist.image}}" class="cover-image" mode="aspectFill" lazy-load="{{true}}" />
      </view>
      <view class="name-overlay">
        <text class="activist-name">{{activist.name}}</text>
        <text wx:if="{{activist.subtitle}}" class="activist-subtitle">{{activist.subtitle}}</text>
      </view>
    </view>

    <!-- 核心信息标签 -->
    <view class="info-section">
      <view class="tags-row">
        <view class="info-tag street-tag">
          <text>{{activist.street}}</text>
        </view>
        <view wx:for="{{activist.topicsList}}" wx:key="index" class="info-tag topic-tag">
          <text>{{item}}</text>
        </view>
      </view>

      <!-- 个人简介（富文本） -->
      <view class="bio-card shadow-sm">
        <rich-text nodes="{{activist.bio}}" class="rich-content"></rich-text>
      </view>

      <!-- 小事现场与语录图片（合并容器） -->
      <view class="images-card shadow-sm" wx:if="{{activist.action_image || activist.feeling_image}}">
        <view wx:if="{{activist.action_image}}" class="detail-img-wrapper" bindtap="previewImage" data-url="{{activist.action_image}}">
          <image src="{{activist.action_image}}" mode="aspectFill" class="detail-img" />
        </view>
        <view wx:if="{{activist.feeling_image}}" class="detail-img-wrapper" bindtap="previewImage" data-url="{{activist.feeling_image}}">
          <image src="{{activist.feeling_image}}" mode="aspectFill" class="detail-img" />
        </view>
      </view>
    </view>    <!-- 底部按钮 -->
    <view class="footer-actions">
      <button class="share-btn" open-type="share">分享这个故事</button>
    </view>
  </view>
</view>
