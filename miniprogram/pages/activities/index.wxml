<view class="activities-page" bindtap="closeDropdown">
  <!-- ç­›é€‰å™¨ -->
  <view class="filter-container" catchtap="stopPropagation">
    <view class="dropdown-filter">
      <view class="dropdown-trigger" bindtap="toggleStatusDropdown">
        <text class="dropdown-text">{{selectedStatusText}}</text>
        <view class="dropdown-arrow {{statusDropdownOpen ? 'open' : ''}}">â–¼</view>
      </view>
      <view class="dropdown-options {{statusDropdownOpen ? 'show' : ''}}">
        <view
          wx:for="{{statusOptions}}"
          wx:key="value"
          class="dropdown-option {{selectedStatus === item.value ? 'selected' : ''}}"
          bindtap="selectStatus"
          data-status="{{item.value}}"
        >
          {{item.label}}
        </view>
      </view>
    </view>
  </view>

  <view wx:if="{{loading}}" class="loading">åŠ è½½ä¸­...</view>
  <view wx:else class="activity-list">
    <view 
      wx:for="{{activities}}" 
      wx:key="_id" 
      class="activity-card" 
      bindtap="onActivityTap" 
      data-id="{{item._id}}"
    >
      <view class="activity-image-wrapper">
        <image src="{{item.image}}" mode="aspectFill" class="activity-image" />
      </view>
      <view class="activity-info">
        <view class="activity-header">
          <text class="activity-title">{{item.name || item.title}}</text>
          <text class="activity-status status-{{item.statusClass}}">{{item.statusLabel}}</text>
        </view>
        <view class="activity-meta">
          <view class="meta-item">
            <text class="meta-icon">ğŸ•’</text>
            <text class="meta-text">{{item.timeStr || item.time}}</text>
          </view>
          <view class="meta-item">
            <text class="meta-icon">ğŸ“</text>
            <text class="meta-text">{{item.address}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
  <view wx:if="{{!loading && activities.length === 0}}" class="empty">æš‚æ— æ´»åŠ¨</view>
</view>

