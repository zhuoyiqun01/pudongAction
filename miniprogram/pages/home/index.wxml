<view class="home-page fade-in">
  <!-- æ¿å—1: æ­£åœ¨å‘ç”Ÿ - æµ·æŠ¥Banner -->
    <view class="section banner-section-wrapper">
      <view class="section-title banner-title">æ­£åœ¨å‘ç”Ÿ</view>
      <view class="banner-section">
        <view class="banner-background"></view>
        <swiper wx:if="{{banners.length > 0}}" class="banner-swiper" indicator-dots="{{true}}" indicator-color="#068D7B" indicator-active-color="#94a3b8" autoplay="{{true}}" interval="3000" duration="500" circular="{{true}}" display-multiple-items="{{banners.length > 1 ? 1.3 : 1}}" previous-margin="{{banners.length > 1 ? '140rpx' : '0rpx'}}" next-margin="0rpx">
        <swiper-item wx:for="{{banners}}" wx:key="id">
          <image src="{{item.image}}" class="banner-image" mode="widthFix" bindtap="onBannerTap" data-url="{{item.url}}" />
        </swiper-item>
      </swiper>
      </view>
    </view>

  <!-- æ¿å—2: ç¤¾åŒºå°äº‹æ˜¯ä»€ä¹ˆï¼Ÿ-->
  <view class="section">
    <view class="section-title">
      <text>ç¤¾åŒºå°äº‹æ˜¯ä»€ä¹ˆï¼Ÿ</text>
      <text class="title-link" bindtap="onLearnMore">äº†è§£æ›´å¤šğŸ‘‰</text>
    </view>
    <view class="intro-subtitle">è®©å°è¡ŒåŠ¨å¸¦æ¥å¤§æ”¹å˜</view>
    <view class="feature-buttons intro-section">
      <view class="feature-btn generator-btn" bindtap="goToGenerator">
        <view class="btn-icon">ğŸ’¡</view>
        <view class="btn-title">ç”Ÿæˆä½ çš„ç¤¾åŒºç‚¹å­</view>
      </view>

      <view class="feature-btn action-btn" bindtap="goToAction">
        <view class="btn-icon">ğŸ§©</view>
        <view class="btn-title">æˆä¸ºå°äº‹è¡ŒåŠ¨è€…</view>
      </view>
    </view>
  </view>

  <!-- æ¿å—3: å°äº‹è¡ŒåŠ¨è€…å¢™ -->
  <view class="section">
    <view class="section-title">å°äº‹è¡ŒåŠ¨è€…å¢™</view>
    <view class="wall-section">
      <view class="container">
        <!-- ç­›é€‰å™¨ -->
        <view class="filter-container">
          <!-- åœ°åŒºç­›é€‰ -->
          <view class="dropdown-filter">
            <view class="dropdown-trigger" bindtap="toggleRegionDropdown">
              <text class="dropdown-text">{{selectedRegionText}}</text>
              <view class="dropdown-arrow {{regionDropdownOpen ? 'open' : ''}}">â–¼</view>
            </view>
            <view class="dropdown-options {{regionDropdownOpen ? 'show' : ''}}">
              <view
                wx:for="{{regions}}"
                wx:key="id"
                class="dropdown-option {{selectedRegion === item.id ? 'selected' : ''}}"
                bindtap="selectRegion"
                data-region="{{item.id}}"
              >
                {{item.name}}
              </view>
            </view>
          </view>

          <!-- è®®é¢˜ç­›é€‰ -->
          <view class="dropdown-filter">
            <view class="dropdown-trigger" bindtap="toggleTopicDropdown">
              <text class="dropdown-text">{{selectedTopicText}}</text>
              <view class="dropdown-arrow {{topicDropdownOpen ? 'open' : ''}}">â–¼</view>
            </view>
            <view class="dropdown-options {{topicDropdownOpen ? 'show' : ''}}">
              <view
                wx:for="{{topics}}"
                wx:key="id"
                class="dropdown-option {{selectedTopic === item.id ? 'selected' : ''}}"
                bindtap="selectTopic"
                data-topic="{{item.id}}"
              >
                {{item.name}}
              </view>
            </view>
          </view>
        </view>

      <!-- ç€‘å¸ƒæµå†…å®¹ -->
      <view class="waterfall-container">
        <view class="waterfall-column">
          <view
            wx:for="{{leftColumn}}"
            wx:key="id"
            class="action-card"
            bindtap="viewActionDetail"
            data-id="{{item.id}}"
          >
            <image src="{{item.image}}" class="card-image" mode="widthFix" />
            <view class="card-content">
              <view class="card-title">{{item.title}}</view>
              <view class="card-tags">
                <view
                  wx:for="{{item.tags}}"
                  wx:key="*"
                  class="tag"
                >
                  {{item}}
                </view>
              </view>
            </view>
          </view>
        </view>

        <view class="waterfall-column">
          <view
            wx:for="{{rightColumn}}"
            wx:key="id"
            class="action-card"
            bindtap="viewActionDetail"
            data-id="{{item.id}}"
          >
            <image src="{{item.image}}" class="card-image" mode="widthFix" />
            <view class="card-content">
              <view class="card-title">{{item.title}}</view>
              <view class="card-tags">
                <view
                  wx:for="{{item.tags}}"
                  wx:key="*"
                  class="tag"
                >
                  {{item}}
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>
    </view>
  </view>
</view>
