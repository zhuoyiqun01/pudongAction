# 文件清理说明

## ✅ 已删除的临时文件

以下文件已经删除：

1. **临时上传页面**：
   - `utils/upload-images-page.js`
   - `utils/upload-images-page.wxml`
   - `utils/upload-images-page.wxss`

2. **临时云函数**：
   - `cloudfunctions/exportCases/` （整个目录）

3. **简化工具脚本**：
   - `utils/import-cases-simple.js`
   - `data/reference-cases/import-to-database.js`

## 📦 保留的文件（建议）

### 1. 工具脚本（可选保留）

这些工具脚本可能以后还需要使用，建议保留：

- ✅ `utils/upload-images-to-cloud.js` - 图片上传工具（如果以后需要更新图片）
- ✅ `utils/import-cases-complete.js` - 完整导入工具（如果以后需要重新导入）
- ✅ `utils/import-reference-cases.js` - 导入工具（通用工具）

**建议**：如果确定不再需要，可以删除这些工具脚本。

### 2. 本地图片文件（重要！）

#### ⚠️ TabBar 图标 - **必须保留**

TabBar 图标**必须使用本地路径**，不能删除：

```
miniprogram/images/tabbar/
├── home.png              ← 必须保留
├── home-active.png       ← 必须保留
├── generator.png         ← 必须保留
├── generator-active.png  ← 必须保留
├── action.png            ← 必须保留
└── action-active.png     ← 必须保留
```

#### 📸 Banner 和 Icon 图片 - **建议保留作为备份**

虽然已经上传到云存储，但建议保留本地文件作为备份：

- 如果云存储加载失败，本地图片可以作为兜底
- 方便本地开发和测试
- 减小小程序包体积有限（图片已经在小程序包中）

**可选操作**：
- 如果想减小小程序包体积，可以删除 Banner 和 Icon 的本地图片
- 但需要确保云存储加载正常，且有失败回退机制

```
miniprogram/images/
├── banners/
│   └── leaders/          ← 可选删除（已上传到云存储）
│       ├── leaders1.jpeg
│       └── ...
└── icons/                ← 可选删除（已上传到云存储）
    ├── action-icon.png
    └── ...
```

### 3. 参考案例文件

- ✅ `cloudfunctions/generateActionSuggestion/cases.js` - **建议保留**

  原因：
  - 作为兜底数据（如果数据库加载失败）
  - 云函数代码中有回退机制
  - 文件不大，不影响云函数体积（因为已经排除了 node_modules）

## 🗑️ 可选删除的文件

如果你想进一步清理，可以考虑删除：

### 1. 工具脚本（如果确定不再需要）

```bash
# 删除上传工具（如果以后不再更新图片）
rm utils/upload-images-to-cloud.js

# 删除导入工具（如果已经完成导入）
rm utils/import-cases-complete.js
rm utils/import-reference-cases.js
```

### 2. 本地图片文件（如果确定云存储稳定）

```bash
# 删除 Banner 图片（保留 TabBar 图标！）
rm -rf miniprogram/images/banners/

# 删除 Icon 图片
rm -rf miniprogram/images/icons/
```

**⚠️ 警告**：删除前请确保：
- 云存储中的图片已正确上传
- 数据库中的配置已正确保存
- 小程序可以正常加载云存储图片
- 有测试过失败回退机制

### 3. 参考案例文件（如果数据库数据已确认正常）

```bash
# 删除 cases.js（减小云函数体积）
rm cloudfunctions/generateActionSuggestion/cases.js
```

**⚠️ 警告**：删除前请确保：
- 数据库中的参考案例已正确导入
- 云函数可以正常从数据库读取
- 已测试过 AI 生成功能

## 📋 清理检查清单

删除文件前，请确认：

- [ ] 云存储中的图片已正确上传
- [ ] 数据库中的 `image_config` 集合已正确配置
- [ ] 小程序可以正常加载云存储图片
- [ ] 数据库中的 `reference_cases` 集合已有数据
- [ ] AI 生成功能可以正常工作
- [ ] TabBar 图标使用本地路径（必须保留）

## 💡 建议

1. **保留本地图片作为备份**（至少保留一段时间）
2. **保留工具脚本**（方便以后维护）
3. **保留 cases.js 作为兜底**（确保稳定性）
4. **定期检查云存储和数据库**（确保数据正常）

## 🔄 如果需要恢复

如果删除后发现问题，可以从 Git 历史恢复：

```bash
git checkout HEAD -- <文件路径>
```



